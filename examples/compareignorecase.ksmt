defn [compare_ignore_case? [x [slice]]] {
  every? [consecutives [collect x lower] 2] [fn* [a b] [is? a b]]
}

assert [compare_ignore_case? 'abcD' 'AbCD' 'ABCd' 'ABCD' 'abcd']
assert_not [compare_ignore_case? ' ab CD' 'abcd']
assert_not [compare_ignore_case? 'bcda' 'cbad' 'dabdab']